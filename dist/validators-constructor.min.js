(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Validators=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var FORMAT_REGEXP=/(%?)%\{([^\}]+)\}/g;var MESSAGE_REGEXP=/message/i;var hiddenPropertySettings={enumerable:false,configurable:false,writable:true};var RESULT_HANDLER="resultHandler";var EXCEPTION_HANDLER="exceptionHandler";var ERROR_FORMAT="errorFormat";var MESSAGE="message";var SIMPLE_ARGS_FORMAT="simpleArgsFormat";var ONE_OPTIONS_ARG="oneOptionsArg";var ARG="arg";function validatorWrapper(validators,name,validator){return function(value,options){var error=void 0,args=arguments;var alias=this&&this.alias;var validatorObj=validators[name];var validatorAliasObj=alias?validators[alias]:{};var arg=validatorObj[ARG]||validatorAliasObj[ARG]||validators[ARG];var isSimpleArgsFormat=validatorObj[SIMPLE_ARGS_FORMAT]||validatorAliasObj[SIMPLE_ARGS_FORMAT]||validators[SIMPLE_ARGS_FORMAT];options=assign({},validatorObj.defaultOptions,validatorAliasObj.defaultOptions,options);if(typeof options.parse==="function"){value=options.parse(value)}if(options.hasOwnProperty(arg)&&!isSimpleArgsFormat){args=[value,options[arg]].concat(Array.prototype.slice.call(arguments,1))}try{var resultHandler=validatorObj[RESULT_HANDLER]||validatorAliasObj[RESULT_HANDLER]||validators[RESULT_HANDLER];error=resultHandler(validator.apply(validators,args))}catch(err){var exceptionHandler=validatorObj[EXCEPTION_HANDLER]||validatorAliasObj[EXCEPTION_HANDLER]||validators[EXCEPTION_HANDLER];if(typeof exceptionHandler==="function"){error=exceptionHandler(err)}else{throw err}}function handleError(error){if(error){var _ret=function(){var errorObj=(typeof error==="undefined"?"undefined":_typeof(error))==="object"?error:null;var message=options[MESSAGE]||validatorObj[MESSAGE]||validatorAliasObj[MESSAGE];if(message){error=message}var formattedErrorMessage=validators.formatMessage(error,assign({validator:alias||name,value:value},errorObj,options));var format=validatorObj[ERROR_FORMAT]||validatorAliasObj[ERROR_FORMAT]||validators[ERROR_FORMAT];if(format){if(typeof formattedErrorMessage==="string"){formattedErrorMessage={message:formattedErrorMessage}}if(format.$options){format=assign({},format);Object.keys(options).forEach(function(key){if(!MESSAGE_REGEXP.test(key)&&typeof options[key]!=="function"){format[key]=options[key]}})}delete format.$options;if(format.$origin){format=assign({},format,formattedErrorMessage)}delete format.$origin;return{v:validators.formatMessage(format,assign({validator:alias||name,value:value},options,formattedErrorMessage))}}return{v:formattedErrorMessage}}();if((typeof _ret==="undefined"?"undefined":_typeof(_ret))==="object")return _ret.v}}return(typeof error==="undefined"?"undefined":_typeof(error))==="object"&&typeof error.then==="function"?error.then(handleError):handleError(error)}}function formatStr(str,values){values=values||{};if(typeof str!=="string"){return str}return str.replace(FORMAT_REGEXP,function(m0,m1,m2){return m1==="%"?"%{"+m2+"}":values[m2]})}function isPlainObject(value){return{}.toString.call(value)==="[object Object]"&&(typeof value.toDate!=="function"||value.propertyIsEnumerable("toDate"))}function assign(){for(var i=1;i<arguments.length;i++){for(var k in arguments[i]){if(arguments[i].hasOwnProperty(k))arguments[0][k]=arguments[i][k]}}return arguments[0]}function Validators(params){Object.defineProperties(this,{errorFormat:hiddenPropertySettings,formatStr:hiddenPropertySettings,resultHandler:hiddenPropertySettings,exceptionHandler:hiddenPropertySettings,arg:hiddenPropertySettings,simpleArgsFormat:hiddenPropertySettings,oneOptionsArg:hiddenPropertySettings,util:hiddenPropertySettings});this.errorFormat={error:"%{validator}",message:"%{message}",$options:true,$origin:true};this.formatStr=formatStr;this.resultHandler=function(result){return result};this.arg="arg";this.util={};assign(this,params)}function addValidator(name,validator,params){var _this=this;var validators=validator instanceof Array?validator:[validator];var validate=void 0;if(typeof validator==="string"){validate=function validate(){return _this[validator].apply({alias:name,_this:_this},arguments)}}else{validate=function validate(value){var args=Array.prototype.slice.call(arguments,2);var arg1=arguments[1];var arg2=arguments[2];var _this2=this&&this._this||_this;var isSimpleArgsFormat=_this2[name][SIMPLE_ARGS_FORMAT]||_this2[SIMPLE_ARGS_FORMAT];var isOneOptionsArg=_this2[name][ONE_OPTIONS_ARG]||_this2[ONE_OPTIONS_ARG];var options=!isOneOptionsArg&&isPlainObject(arg2)?arg2:{};if(arg1!=null&&typeof arg1!=="boolean"){if(isPlainObject(arg1)){options=arg1}else{options[_this2[name][ARG]||_this2[ARG]]=arg1;if(!isSimpleArgsFormat){args.shift()}}}for(var i=0;i<validators.length;i++){var base=validators[i];switch(typeof base==="undefined"?"undefined":_typeof(base)){case"function":validator=validatorWrapper(_this2,name,base);break;case"string":validator=_this2[base];break;case"object":validator=_this2[base[0]];options=assign({},options,base[1])}var error=validator.apply(this,[value,options].concat(args));if(error){return error}}}}assign(validate,params);validate.curry=function(){var _arguments=arguments;return function(value){return validate.apply(_this,[value].concat(Array.prototype.slice.call(_arguments)))}};_this[name]=validate}Validators.prototype.add=function(validatorName,validators,params){var _this3=this;if(typeof validatorName==="string"){addValidator.call(this,validatorName,validators,params)}else{Object.keys(validatorName).forEach(function(key){return addValidator.call(_this3,key,validatorName[key],validators)})}return this};Validators.prototype.formatMessage=function(message,values){var _this4=this;if(typeof message==="function"){message=message(values.value,values)}if((typeof message==="undefined"?"undefined":_typeof(message))==="object"){var formattedMessage={};Object.keys(message).forEach(function(key){return formattedMessage[_this4.formatStr(key,values)]=_this4.formatStr(message[key],values)});if(message[MESSAGE]){formattedMessage[MESSAGE]=this.formatStr(message[MESSAGE],values)}return formattedMessage}return this.formatStr(message,values)};module.exports=function(options){return new Validators(options)}},{}]},{},[1])(1)});